<template>
    <!-- 📌 둥근 테두리를 적용할 외부 컨테이너 -->
    <div class="rounded-card-container">
        <lightning-card title={accountName} class={productListClass}>
            <div class="slds-m-around_medium">
                <template if:true={accountId}>
                    <!-- 📌 제품 리스트 컨테이너 -->
                    <div class="product-list-container">
                        <template for:each={products} for:item="product">
                            <div key={product.id} class="product-card" data-id={product.id} onclick={handleProductSelection}>
                                <img src={product.imageUrl} alt={product.name} class="product-image"/>
                                <div class="product-info">
                                    <p class="product-name"><strong>☕ 제품 :  </strong>{product.name}</p>
                                    <p class="product-quantity"><strong>🏷️ 카테고리 :  </strong>{product.category}</p>
                                    <p class="product-price"><strong>📦 보유수량 :  </strong>{product.totalQuantity}</p>
                                </div>
                            </div>
                        </template>
                    </div>
                </template>
            </div>
        </lightning-card>
    </div>

    <!-- "자가 해결이 가능한지 확인해보세요." 문구 -->
    <div class={fadeInTextClass}>자가 해결이 가능한지 확인해보세요</div>

    <!-- ✅ 처음에는 hidden 처리된 KnowledgeSearch 컴포넌트 -->
    <div class="knowledge-wrapper" hidden={isKnowledgeHidden}>
        <c-knowledge-search class={knowledgeClass}></c-knowledge-search>
    </div>
    <div hidden={isKnowledgeHidden}>
        <c-new-case-form class={knowledgeClass}></c-new-case-form>
    </div>
    <div class="pop-button" hidden={isKnowledgeHidden}>
        <c-call-button class={knowledgeClass}></c-call-button>
    </div>
   

</template>
